# üóÑÔ∏è Configuraci√≥n de Base de Datos - Variables de Entorno

# ==============================================
# CONFIGURACI√ìN GENERAL
# ==============================================

# Entorno de ejecuci√≥n
NODE_ENV=development  # development | production | test

# Modo de base de datos
DATABASE_MODE=hybrid  # sqlite | postgres | hybrid

# ==============================================
# CONFIGURACI√ìN PARA DESARROLLO (hybrid/sqlite)
# ==============================================

# Ruta de la base de datos SQLite (cuando no se usa PostgreSQL)
SQLITE_DATABASE_PATH=./pglite_db/database.sqlite

# ==============================================
# CONFIGURACI√ìN PARA PRODUCCI√ìN (postgres/hybrid)
# ==============================================

# Configuraci√≥n de PostgreSQL para producci√≥n
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=your_password_here
DATABASE_NAME=vikract_production

# SSL para conexiones de producci√≥n (true/false)
DATABASE_SSL=false

# ==============================================
# CONFIGURACI√ìN POR MODO
# ==============================================

# MODO 1: sqlite
# - TypeORM: SQLite (better-sqlite3)
# - Funciones avanzadas: PGlite
# - Uso: Desarrollo simple, pruebas, demos
# DATABASE_MODE=sqlite

# MODO 2: postgres
# - TypeORM: PostgreSQL nativo
# - Funciones avanzadas: PostgreSQL nativo
# - Uso: Producci√≥n con servidor PostgreSQL
# - Requiere: Servidor PostgreSQL corriendo
# DATABASE_MODE=postgres

# MODO 3: hybrid (RECOMENDADO)
# - Desarrollo: TypeORM SQLite + PGlite para funciones avanzadas
# - Producci√≥n: TypeORM PostgreSQL + PostgreSQL nativo
# - Uso: Mejor experiencia de desarrollo, producci√≥n optimizada
# DATABASE_MODE=hybrid

# ==============================================
# EJEMPLOS DE CONFIGURACI√ìN POR ENTORNO
# ==============================================

# DESARROLLO LOCAL:
# NODE_ENV=development
# DATABASE_MODE=hybrid
# (Usar√° SQLite + PGlite autom√°ticamente)

# STAGING:
# NODE_ENV=production
# DATABASE_MODE=hybrid
# DATABASE_HOST=staging-postgres.example.com
# DATABASE_NAME=vikract_staging
# (Usar√° PostgreSQL nativo autom√°ticamente)

# PRODUCCI√ìN:
# NODE_ENV=production
# DATABASE_MODE=postgres
# DATABASE_HOST=prod-postgres.example.com
# DATABASE_PORT=5432
# DATABASE_USERNAME=vikract_user
# DATABASE_PASSWORD=super_secure_password
# DATABASE_NAME=vikract_production
# DATABASE_SSL=true

# ==============================================
# CONFIGURACI√ìN AVANZADA (OPCIONAL)
# ==============================================

# Pool de conexiones PostgreSQL (solo para modo postgres/hybrid en producci√≥n)
DATABASE_POOL_SIZE=20
DATABASE_CONNECTION_TIMEOUT=60000
DATABASE_ACQUIRE_TIMEOUT=60000
DATABASE_IDLE_TIMEOUT=30000

# Configuraci√≥n PGlite (solo para modo sqlite/hybrid en desarrollo)
PGLITE_DEBUG=1  # 0=sin debug, 1=debug b√°sico, 2=debug verbose
PGLITE_MEMORY_FALLBACK=true  # Fallback a memoria si falla persistente

# ==============================================
# CONFIGURACI√ìN JWT Y OTRAS
# ==============================================

JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRATION=24h

# API Keys
API_KEY_EXPIRATION=365d

# Storage
STORAGE_PROVIDER=local  # local | s3 | gcs
UPLOAD_PATH=./uploads

# ==============================================
# COMANDOS PARA DIFERENTES ENTORNOS
# ==============================================

# Para desarrollo local (h√≠brido):
# cp .env.example .env.development
# npm run start:dev

# Para producci√≥n con PostgreSQL:
# cp .env.example .env.production
# # Configurar variables de PostgreSQL
# npm run build
# npm run start:prod

# Para testing:
# cp .env.example .env.test
# # Configurar DATABASE_MODE=sqlite para tests r√°pidos
# npm run test

# ==============================================
# VERIFICACI√ìN DE CONFIGURACI√ìN
# ==============================================

# Al iniciar la aplicaci√≥n, ver√°s en los logs:
# üóÑÔ∏è Database Configuration:
#    Mode: hybrid
#    TypeORM Driver: SQLite (better-sqlite3) | PostgreSQL
#    Advanced Queries: PGlite | PostgreSQL Native
#    Environment: development | production
